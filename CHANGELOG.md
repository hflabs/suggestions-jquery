# Changelog

### 19.05.2022 (22.05.0)

-   Поддержка параметра division

### 21.12.2021 (21.12.0)

-   Поддержка flat как правой границы в bounds (можно задавать house-flat, street-flat и тому подобное)

### 02.08.2021 (21.8.0)

-   Если в bounds задан house, он передается на сервер

### 09.07.2021 (21.7.0)

-   Логотип без .ru

### 30.06.2021 (21.6.0)

-   Запрет автозаполнения в Yandex Browser

### 02.02.2021 (21.2.0)

-   Вызов findById/bank при выборе конкретного банка

### 27.03.2020 (20.3.0)

-   Поддержка опции language

### 26.03.2020 (20.2.3)

-   Исправлено: не переносится дополнительный текст в подсказке

### 17.03.2020 (20.2.2)

-   Исправлено: список подсказок сдвигает нижестоящие элементы вместо того, чтобы показываться над ними

### 25.02.2020 (20.2.1)

-   CSS-позиционирование списка подсказок
-   Отказ от ui-контрола аддона (спиннер / крестик)
-   Отказ от ui-контролов ограничений
-   mobileWidth = 600px по умолчанию
-   scrollOnFocus = false по умолчанию

### 25.02.2020 (20.2.0)

-   Поддержка подсказок по ФИАС (тип FIAS)

### 24.01.2020 (20.1.1)

-   autocomplete = off для нового Chrome

### 21.01.2020 (20.1.0)

-   Поддержка region_iso_code в locations

### 04.11.2019 (19.11.0)

-   Исправлено: не виден «хвост» запроса в мобильном режиме

### 10.10.2019 (19.10.0)

-   Отключен autocomplete в Chrome

### 16.08.2019 (19.8.0)

-   Гранулярные подсказки и ограничения по странам

### 15.07.2019 (19.7.1)

-   Исправлено: «трясучка» при фокусе на поле в iOS

### 14.07.2019 (19.7.0)

-   В location_boost передаётся только kladr_id, а не весь объект адреса
-   Исправлено: Cannot read property 'split' of undefined для некоторых запросов в компаниях

### 17.06.2019 (19.6.0)

-   Ничего нового

### 15.05.2019 (19.5.0)

-   Ничего нового

### 25.04.2019 (19.4.1)

-   Исправлено: ошибочный выбор «д 1 стр 5» по запросу «г Красноярск, ул Авиаторов, д 5»

### 16.04.2019 (19.4.0)

-   Ничего нового

### 12.03.2019 (19.3.0)

-   Ничего нового

### 22.01.2019 (19.1.0)

-   Ничего нового

### 07.12.2018 (18.12.0)

-   Ничего нового

### 26.11.2018 (18.11.1)

-   UTM-метки в промо-блоке

### 07.11.2018 (18.11)

-   Ничего нового

### 22.10.2018 (18.10.1)

-   Исправлено: ошибка promo === null при пустом списке подсказок

### 17.10.2018 (18.10)

-   Ничего нового

### 18.09.2018 (18.9)

-   Ничего нового

### 26.07.2018 (18.8)

-   Промо-блок в списке подсказок

### 24.07.2018

-   Исправлено: лишний отступ под текстовым полем в Bootstrap 4 (ECHO-4697)

### 21.05.2018 (18.6)

-   Подключаемые справочники (SUG-774)

### 30.04.2018 (18.3.3)

-   Исправлено: используется for...in для обхода массива (ECHO-3536, ECHO-4196)
-   Исправлено: не срабатывает автоподстановка на отличиях Е-Ё
-   Исправлено: не срабатывает автоподстановка, если дом с квартирой записаны через тире (SUG-819)
-   Исправлено: крестик очистки срабатывает на disabled-полях (SUG-834)
-   Исправлено: aвтоматически подставляется «д 4А/1» вместо «д 1» (SUG-840)

### 30.04.2018 (18.3.2)

-   Исправлено: некорректно обрезается значение подсказки при ограничении по КЛАДР-коду, который заканчивается на 0 (ECHO-4297)

### 16.03.2018 (18.3.1)

-   При выборе конкретной подсказки по организации возвращается полный набор полей (sug-832)

### 15.01.2018 (18.3.0)

-   Исправлено: в гранулярных подсказках невозможно ввести город внутри города-региона (sug-822)

### 18.12.2017 (17.12.0)

-   Отключены autocorrect, autocapitalize, spellcheck (sug-810)
-   Отключены опережающие подсказки по ФИО (sug-811)
-   Опция noSuggestionsHint = false отключает подсказку о неизвестном значении (sug-814)

### 01.11.2017

-   Поддержка jQuery.noConflict()

### 13.09.2017 (17.10)

-   Принудительный withCredentials = false для CORS-запросов

### 09.07.2017

-   onInvalidateSelection запускается при очистке

### 14.06.2017

-   Появилось отображение исторических значений (history_values)

### 12.06.2017

-   Когда кастомный метод formatSelected возвращает пустую строку, то она не заменяется на значение по-умолчанию

### 21.05.2017 (17.5)

-   Поддержка произвольного url на сервере (sug-754)

### 19.05.2017

-   Исправлено подключение для require.js + пример (sug-756)

### 17.05.2017

-   Поддержка типуа адресного объекта в locations (sug-753)
-   Геолокация и ограничение по адресу для банков (sug-746)

### 03.05.2017

-   пустые параметры не передаются в GET-запросах
-   район города почти никогда не показывается в выбранном значении
-   если не подобрано ни одной подсказки, то показывается соответствующее сообщение
-   добавлены описания стилей в less/suggestions.less
-   добавлен suggestions.min.css

### 14.02.2017 (17.2.1)

-   плагин переделан на ES6
-   Grunt заменен на Gulp

### 04.12.2016 (16.10.4)

-   поддержка внутригородских районов в ограничениях
-   импорт библиотеки через CommonJS

### 28.11.2016 (16.10.3)

-   добавлен дефолтный serviceUrl

### 25.11.2016 (16.10.2)

-   добавлена поддержка ограничения по коду ФИАС

### 22.09.2016 (16.8.8)

-   исправлены ограничения для компаний
-   добавлен автовыбор банка при поиске по SWIFT

### 23.08.2016 (16.8.7)

-   расчет value на клиенте после обогащения для городов-регионов

### 21.08.2016 (16.8.6)

-   добавлена обработка кладр и множественных органичений при вставке значения в текстбокс

### 16.08.2016 (16.8.5)

-   изменена логика подсветки совпадений в адресах
-   добавлено задание grunt watch

### 14.08.2016 (16.8.4)

-   вывод city_district в поле ввода при выборе неоднозначного адреса

### 14.08.2016 (16.8.3)

-   расчет value на клиенте после обогащения

### 10.08.2016 (16.8.2)

-   добавлен вывод района города для адресов одной строкой

### 05.08.2016 (16.8.1)

-   добавлен вывод района города для гранулярных адресов

### 30.06.2016 (16.6.1)

-   автовыбор компании или банка по энтеру при частичном совпадении с единственной подсказкой
-   автовыбор компании при совпадении ОГРН с единственной подсказкой
-   автовыбор банка при совпадении БИК с единственной подсказкой

### 25.06.2016 (16.5.4)

-   добавлены события `suggestions-set`, `suggestions-fixdata`

### 11.06.2016 (16.5.3)

-   пофикшено позиционирование списка на мобильном экране

### 04.05.2016 (16.5.1)

-   поднял версию, чтобы соответствовать серверу

### 13.04.2016 (16.4.1)

-   добавлена опция partner

### 04.02.2016 (16.2.1)

-   добавлен коллбек onSuggestionsFetch

### 12.01.2016 (15.12.1)

-   изменен механизм обогащения выбранного значение

### 17.11.2015 (15.11.2)

-   добавлена поддержка метода `findById`
-   добавлена опция `requestMode`

### 16.11.2015 (15.11.1)

-   вызов публичных методов в недоинициализированном плагине не ведет к ошибкам

### 16.11.2015 (15.10.4)

-   добавлен учет страны в органичениях по адресу

### 28.10.2015 (15.10.3)

-   изменен алгоритм автовыбора имен

### 27.10.2015 (15.10.2)

-   добавлена опция initializeInterval

### 08.09.2015 (15.8.1)

-   сделана отложенная инициализация если элемент не виден

### 17.07.2015 (15.7.4)

-   изменена логика подсветки подсказок в списке

### 23.06.2015 (15.7.3)

-   удалена опция useDadata
-   добавлен вызова метода `status` при инициализации

### 22.06.2015 (15.7.2)

-   увеличен приоритет стилей для .suggestions-constraints

### 22.06.2015 (15.7.1)

-   метод `setSuggestion` устанавливает подсказку с учетом `bounds` - убирает лишние поля

### 14.05.2015 (15.6.1)

-   добавлена опция `timeout`

### 27.04.2015 (15.5.4)

-   починено скрытие списка при потере фокуса во время ожидания ответа от сервера
-   проведен рефакторинг

### 22.04.2015 (15.5.3)

-   для организаций подключена приоритезация по геолокации, как и для адресов

### 22.04.2015 (15.5.2)

-   опция `triggerSelectOnSpace` по умолчанию установлена в `false`,
-   добавлены опции `triggerSelectOnEnter` и `triggerSelectOnBlur` (по умолчанию `true`)

### 18.04.2015 (15.5.1)

-   убран повторный выбор подсказки при потере фокуса, если она уже была выбрана

### 05.03.2015 (15.3.1)

-   добавлена опция `floating`, заставляющая отображать выпадающий список поверх всего документа

### 23.02.2015 (15.2.6)

-   добавлен второй параметр в `onSelect` - показывает, было ли реально выбрано новое значение (`true`), или только обогащено текущее (`false`)

### 23.02.2015 (15.2.5)

-   для банков отображается БИК и адрес
-   ликвидированные банки и организации отображаются перечеркнутыми

### 23.02.2015 (15.2.4)

-   отображение альтернативных полей для организаций, если есть совпадения по ним (ОГРН вместо ИНН, ФИО руководителя вместо адреса, латинское название вместо обычного)

### 23.02.2015 (15.2.3)

-   при выборе банка в текстбокс подставляется значение из `data.name.payment`

### 10.02.2015 (15.2.2)

-   добавил метод `fixData` для получения полных данных по сохраненному значению

### 27.01.2015 (15.2.1)

-   добавил тип BANK

### 26.01.2015 (15.1.2)

-   onSearchError не вызывается для искусстенно прерванных запросов
-   onSearchError вызывается для ошибок авторизации
-   автовыбор в организациях производится только для единственной подсказки

### 20.01.2015 (15.1.1)

-   предотвращен бесконечный вызов колбэков

### 11.01.2015 (4.10.7)

-   подсветка слов в составных словах

### 08.01.2015 (4.10.6)

-   добавлена поддержка события input

### 30.12.2014 (4.10.5)

-   кэширование обогащенных адресов

### 26.12.2014 (4.10.4)

-   обогащение оставлено только для адресов

### 24.12.2014 (4.10.3)

-   удалена проверка qc-полей при обогащении

### 18.12.2014 (4.10.2)

-   убран анализ кода качества при обогащении

### 15.12.2014

-   пробел добавляется при выборе адреса пока не указана квартира

### 20.11.2014 (4.10.1)

-   обогащение при выборе пробелом отключено

### 31.10.2014

-   удалил устаревшую опцию `delimiter`

### 29.10.2014 (4.9.7)

-   добавлена опция `formatSelected`
-   для типа NAME выбор посказок продолжается при выборе вручную

### 23.10.2014

-   добавлена опция `suggest_local`

### 20.10.2014 (4.9.6)

-   добавлена тип `EMAIL`

### 20.10.2014 (4.9.5)

-   добавлены расшифровывающие метки к одинаковым подсказкам

### 16.10.2014 (4.9.4)

-   опции `usePreloader` и `showClear` заменены на `addon`

### 15.10.2014 (4.9.3)

-   при сериализации объекта адреса учитываются поля `region_with_type` - `street_with_type`

### 15.10.2014 (4.9.2)

-   добавлена опция `showClear`
-   добавлена кнопка очистки

### 09.10.2014 (4.9.1)

-   добавлена возможность задавать неотображаемые `constraints`

### 01.10.2014

-   если `constraints` ссылаются на другие контролы, то при отправке запроса они просматриваются на несколько уровней
-   если `constraints` ссылаются на другие контролы, и они не заполнены, в них подставляются части выбранной подсказки

### 30.09.2014 (4.8.5)

-   добавлена опция `mobileWidth`
-   добавлена опция `scrollOnFocus`
-   удалены опции `maxHeight`, `zIndex`
-   изменен вид списка для мобильных устройств
-   для мобильных устройств наименования организаций обрезаются до 50 символов
-   для мобильных устройств добавлен автоскролл
-   изменен формат вызова функции `formatResult`

### 29.09.2014

-   опция `constraints` может быть jQuery-объектом с тектбоксом

### 17.09.2014 (4.8.4)

-   добавлена генерация событий на текстбоксе
-   добавлена опция `bounds`

### 16.09.2014 (4.8.3)

-   в функцию formatResult добавлен параметр unformattableTokens
-   в функцию formatResult добавлено экранирование html-небезопасных символов
-   обновлены зависимости для grunt

### 08.09.2014 (4.8.2)

-   перемещение указателя мыши над списком подсказок не выделяет их

### 08.09.2014 (4.8.1)

-   отдельная логика автовыбора подсказок для компаний, учитывает совпадения по ИНН, ОГРН, ОПФ (краткому и полному), Наименованию (полному, краткому, латинскому), Адресу.
-   значение по умолчанию для опции `count` установлено в 5

### 01.09.2014

-   для предприятий выводятся ИНН

### 25.08.2014 (4.7.2)

-   добавлена опция `headers`

### 18.08.2014 (4.7.1)

-   добавлена опция `geoLocation`
-   информация о местонахождении клиента не выводится как ограничение
-   опции по умолчанию доступны через \$.Suggestions.defaultOptions
-   опция $.Suggestions.defaultHint перенесена в$.Suggestions.defaultOptions.hint

### 30.07.2014 (4.6.4)

-   в запросы добавлена информация о версии плагина

### 28.07.2014 (4.6.3)

-   параметр `restrictions` заменен на `locations`

### 23.07.2014 (4.6.2)

-   отменено обогащение через dadata.ru

### 01.07.2014 (4.6.1)

-   для компаний, даты регистрации и ликвидации добавляются к пдсказке на клиенте
-   для компаний, добавлен вывод адреса

### 19.06.2014 (4.5.2)

-   метод в запросе стандартизации заменен на `clean-suggestion`
-   в запрос стандартизации добавлен параметр `checksum`

### 10.06.2014 (4.5.1)

-   добавлен тип `PARTY`
-   добавлен метод `update`
-   опция `params` может быть функцией

### 11.06.2014 (4.4.7)

-   для браузеров, не поддерживающих CORS, функционал ограничений отключен

### 02.06.2014 (4.4.6)

-   добавлен класс `suggestions-input`, назначаемый на input при инициализации

### 29.05.2014 (4.4.5)

-   обрезаются начальные части подсказок, когда установлено ограничение области поиска

### 16.05.2014 (4.4.4)

-   для браузеров, не поддерживающих CORS, отправка токена аутентификации осуществляется в параметре URL

### 23.04.2014 (4.4.3)

-   опция `type` сделана обязательной
-   опция `serviceUrl` указывает на корневую папку веб-сервиса, полный путь строится автоматически
-   опция `serviceUrl` не может быть функцией
-   удалена опция `ignoreParams`
-   добавлено автоматическое определение местоположения по IP и установка его в качестве ограничения для адресов

### 02.04.2014 (4.4.2)

-   добавлена опция `constraints`, определяющая ограничения для поиска

### 28.03.2014 (4.4.1)

-   удалена опция `lookup`
-   удалена опция `lookupFilter`
-   удалена опция `lookupLimit`
-   удалена опция `transformResult`
-   удалена опция `triggerSelectOnValidInput`
-   в обработчик `onInvalidateSelection` передается объект `suggestions`, который был прежде выбран
-   проведен рефакторинг

### 24.04.2014 (4.3.4)

-   добавлена опция \$helpers
-   добавлен метод `setSuggestion`

### 21.03.2014 (4.3.3)

-   удалена опция `dadataType`
-   добавлена опция `type`
-   добавлена опция `useDadata`
-   добавлена опция `count`
-   добавляется пробел после выбранной подсказки, если она не содержит всех нужных полей

### 20.03.2014 (4.3.2)

-   добавлено обращение к dadata.ru при выборе подсказки из списка и в случаях, когда получен ответ без подсказок
-   добавлена опция `dadataType`
-   значение по умолчанию для опции `preventBadQueries` изменено на `false`

### 14.03.2014 (4.3.1)

-   добавлен поясняющий текст вверху выпадающего списка

### 13.03.2014 (4.2.3)

-   файл плагина переименован в jquery.suggestions.js
-   добавлены дополнительные элементы, создаваемые при инициализации плагина
-   добавлен анимированный прелоадер
-   добавлена опция `usePreloader`
-   удалена опция `appendTo`; список подсказок всегда вставляется в элемент-обертку
-   переименованы css классы, теперь они начинаются с 'suggestions-'
-   добавлены стили по умолчанию

### 03.03.2014 (4.2.2)

-   по нажатию ENTER, если ни одной подсказки не выделено, ищется и выделяется подсказка, совпадающая с поисковой фразой
-   перемещение по подсказкам с помощью клавиш ВВЕРХ и ВНИЗ зациклено
-   после щелчка на подсказке, фокус отстается в поле ввода

### 18.02.2014 (4.2.1)

-   по нажатию ENTER, если ни одной подсказки не выделено, выделяется первая

### 07.02.2014 (4.2.0)

-   добавлена опция `token`. Если она задана, при инициализации отправляется авторизационный запрос
-   опция `selectOnSpace` переименована в `triggerSelectOnSpace`
